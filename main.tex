% !TEX TS-program = xelatex
% Command for running this example (needs latexmkrc file):
%    latexmk -bibtex -pdf main.tex

%	نمونه پایان‌نامه آماده شده با استفاده از کلاس tehran-thesis، نگارش 1
%	سینا ممکن، دانشگاه تهران 
%	https://github.com/sinamomken/tehran-thesis
%	گروه پارسی‌لاتک
%	http://www.parsilatex.com
%	این نسخه، بر اساس نسخه‌ 0.1 از کلاس IUST-Thesis آقای محمود امین‌طوسی آماده شده است.
%        http://profsite.sttu.ac.ir/mamintoosi

%----------------------------------------------------------------------------------------------
% اگر قصد نوشتن پروژه کارشناسی را دارید، در خط زیر به جای msc، کلمه bsc و اگر قصد نوشتن رساله دکترا را دارید، کلمه phd را قرار دهید. کلیه تنظیمات لازم، به طور خودکار، اعمال می‌شود.

% اگر مایلید پایان‌نامه شما دورو باشد به جای oneside در خط زیر از twoside استفاده کنید.

% برای حاشیه‌نویسی و کم کردن صفحات ابتدایی، گزینه draft را وارد و برای نسخه نهایی آن را حذف کنید.

% برای استفاده از قلم‌های سری IR Series گزینه irfonts را وارد و برای استفاده از قلم‌های X Series 2 آن را حذف کنید.



\documentclass[
oneside
% ,openany
,bsc
,irfonts
% ,draft
]{./tex/tehran-thesis}
\usepackage{titlesec}

% فایل commands.tex را مطالعه کنید؛ چون دستورات مربوط به فراخوانی بسته‌ها، فونت و دستورات خاص در این فایل قرار دارد.
\input{./tex/commands}

% مشخصات پایان‌نامه را در فایلهای faTitle و enTitle وارد نمایید.
\input{./tex/faTitle}

% تنظیمات و تعاریف واژه‌نامه و اختصارات
\input{./tex/glossaries-settings}
\input{./tex/words}
\input{./tex/acronyms}


%reset number of foot notes for each page
\usepackage{everypage}
\renewcommand{\footnoterule}{\vspace{1em}\hrule width \linewidth height 0.5pt}
\AddEverypageHook{\setcounter{footnote}{0}}

\usepackage{graphicx}
\usepackage{array}
\usepackage{xepersian} % RTL support and Persian fonts
\usepackage{tabularx}
\usepackage{setspace} % For \onehalfspacing
\usepackage{fontawesome} % For speical chars like check and Cross

\usepackage{cite} % for numbered citations
\usepackage{setspace} % for one-and-a-half spacing
\usepackage{url} % for URLs in bibliography
 
\usepackage{hyperref} %for hyperlinking

\usepackage{csquotes} %for custom quoting
\usepackage{bidi} %for LTR support
\usepackage{amsmath} % For mathematical symbols
\usepackage{amsmath} % if you're using math environments
\usepackage{fancyhdr}

\usepackage{xepersian}
\usepackage{bidi}       % For bidirectional support



% Set chapter title formatting to left-aligned
\titleformat{\chapter}[display]
  {\normalfont\huge\bfseries} % Formatting for the entire chapter title
  {\raggedright\chaptertitlename\ \thechapter} % Chapter number and name (left-aligned)
  {20pt} % Space between chapter number and title
  {\Huge\raggedright} % Formatting for the chapter title text (left-aligned) 


\begin{document}
\nocite{*} % This includes all references in the .bib file

\pagenumbering{adadi} % یک، دو، ...
\input{./tex/thesis_preamble}

\pagestyle{fancy}
\pagenumbering{arabic} % 1, 2, ...

\include{./tex/chapter1}		% فصل اول: مقدمه
\include{./tex/chapter2}		% فصول دوم: مروری بر مطالعات انجام شده
\include{./tex/chapter3}		% فصل سوم: روش تحقیق
\include{./tex/chapter4}		% فصل چهارم: نتایج
\include{./tex/chapter5}		% فصل پنجم: بحث و نتیجه‌گیری

% Change the name of the bibliography section
\renewcommand{\bibname}{واژه‌نامه}
%\def\bibname{واژه نامه}

% Ensure proper linking for hyperref
\cleardoublepage
\phantomsection

% مراجع
% اگر از استیل‌های natbib استفاده می‌کنید باید دو خط را در فایل commands.tex تغییر دهید.
\pagestyle{empty}
{
\small
\onehalfspacing
\bibliographystyle{plain-fa} % or plainnat-fa for author-date
\bibliography{./tex/references}
}

\pagestyle{fancy}

% \appendix
% فصلهای پس از این قسمت به عنوان ضمیمه خواهند آمد.

% دستورات لازم برای تبدیل «فصل آ» به «پیوست آ» در فهرست مطالب
\addtocontents{toc}{
    \protect\renewcommand\protect\cftchappresnum{\appendixname~}%
    \protect\setlength{\cftchapnumwidth}{\mylenapp}}
    
% دستورات لازم برای شماره‌گذاری صفحات پیوست‌ها بشکل آ-۱ (فعلا با glossaries سازگار نیست)
% \let\Chapter\chapter
%\pretocmd{\chapter}{
%  \clearpage
%  \pagenumbering{arabic}
%  \renewcommand*{\thepage}{\rl{\thechapter-\arabic{page}}}}{}{}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        

% \include{./tex/appendix1}		% پیوست اول: آشنایی مقدماتی با لاتک
% \include{./tex/appendix2}		% پیوست دوم: جدول، نمودار و الگوریتم در لاتک
% \include{./tex/appendix3}   	% پیوست سوم: مراجع، واژه‌نامه و حاشیه‌نویسی

% برگرداندن شماره‌بندی صفحات فصول
% \let\chapter\Chapter
\pagenumbering{tartibi} % اول، دوم، ...
%\baselineskip=.75cm

% چاپ واژه‌نامه‌ها و نماگر 
\onehalfspacing
\cleardoublepage
\printglossary
\cleardoublepage
\printindex

\end{document}